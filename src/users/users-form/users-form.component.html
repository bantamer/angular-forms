<div class="flex items-center justify-center">
  <form
    [formGroup]="userForm"
    #formDirective="ngForm"
    (ngSubmit)="onSubmit(formDirective)"
    class="flex flex-col p-4 gap-4 max-w-[600px] flex-grow"
  >
    <app-users-form-text-input
      class="flex-grow"
      controlName="firstName"
      label="First Name"
      placeholder="Jon"
      [control]="userForm.controls.firstName"
    />
    <app-users-form-text-input
      class="flex-grow"
      controlName="lastName"
      label="Last Name"
      placeholder="Doe"
      [control]="userForm.controls.lastName"
    />
    <app-users-form-text-input
      class="flex-grow"
      type="number"
      controlName="interval"
      label="Interval"
      placeholder="500"
      [control]="userForm.controls.interval"
    />
    <mat-form-field class="flex-grow">
      <mat-label>Birth Day</mat-label>
      <input
        matInput
        [matDatepicker]="picker"
        formControlName="birthDayAt"
        placeholder="MM/DD/YYYY"
      />
      <mat-datepicker-toggle matSuffix [for]="picker" />
      <mat-datepicker #picker />
      <mat-error>
        <app-users-form-input-error
          [errors]="userForm.controls.birthDayAt.errors"
          [isTouched]="userForm.controls.birthDayAt.touched"
          [isDirty]="userForm.controls.birthDayAt.dirty"
        />
      </mat-error>
    </mat-form-field>
    <div class="flex gap-4">
      <button mat-raised-button type="submit" [disabled]="!userForm.valid">
        @if (isEditPage) {
          Update User
        } @else {
          Create User
        }
      </button>
      @if (isEditPage) {
        <button mat-button type="button" (click)="onDelete()">
          Delete User
        </button>
      }
    </div>
  </form>
</div>
