import { DatePipe } from '@angular/common';
import { Component, signal } from '@angular/core';
import { GridCellDirective } from 'grid/grid-cell/grid-cell.directive';
import { GridPaginationComponent } from 'grid/grid-pagination/grid-pagination.component';
import { GridPaginationDirective } from 'grid/grid-pagination/grid-pagination.directive';
import { Strategy } from 'grid/grid-strategy/grid-strategy';

import { Column } from 'grid/grid-service/grid.service';

import { GridComponent } from 'grid/grid.component';
import { QueryStrategy } from 'grid/grid-strategy/query-strategy';

export interface User {
  id: number;
  name: string;
  age: number;
  role: string;
  createdAt: Date;
}

@Component({
  selector: 'app-users',
  standalone: true,
  imports: [
    GridComponent,
    GridCellDirective,
    DatePipe,
    GridPaginationDirective,
    GridPaginationComponent,
  ],
  template: `
    <table
      appGrid
      appGridPagination
      #pagination="pagination"
      [data]="data()"
      [columns]="columns()"
    >
      <td *appCell="let row; key: 'name'">{{ row.name }}</td>
      <td *appCell="let row; key: 'age'">{{ row.age }}</td>
      <td *appCell="let row; key: 'role'">{{ row.role }}</td>
      <td *appCell="let row; key: 'createdAt'">
        {{ row.createdAt | date }}
      </td>
    </table>
    <app-grid-pagination [pagination]="pagination" />
  `,
  providers: [{ provide: Strategy, useClass: QueryStrategy }],
})
export class UsersComponent {
  public readonly columns = signal<Column<User>[]>([
    { key: 'name', label: 'Name', sortable: true },
    { key: 'age', label: 'Age', sortable: true },
    { key: 'role', label: 'Role' },
    { key: 'createdAt', label: 'Created', sortable: true },
  ]);

  public data = signal<User[]>([
    {
      id: 1,
      name: 'Bob',
      age: 46,
      role: 'Guest',
      createdAt: new Date('2024-11-30T10:59:41.769617'),
    },
    {
      id: 2,
      name: 'Helen',
      age: 23,
      role: 'User',
      createdAt: new Date('2024-08-04T10:59:41.769640'),
    },
    {
      id: 3,
      name: 'Grace',
      age: 55,
      role: 'Moderator',
      createdAt: new Date('2025-02-18T10:59:41.769652'),
    },
    {
      id: 4,
      name: 'Grace',
      age: 65,
      role: 'Guest',
      createdAt: new Date('2024-06-14T10:59:41.769661'),
    },
    {
      id: 5,
      name: 'David',
      age: 64,
      role: 'Admin',
      createdAt: new Date('2025-01-10T10:59:41.769673'),
    },
    {
      id: 6,
      name: 'Eva',
      age: 47,
      role: 'Guest',
      createdAt: new Date('2024-09-13T10:59:41.769682'),
    },
    {
      id: 7,
      name: 'Helen',
      age: 24,
      role: 'User',
      createdAt: new Date('2024-12-05T10:59:41.769690'),
    },
    {
      id: 8,
      name: 'Alice',
      age: 59,
      role: 'User',
      createdAt: new Date('2025-04-24T10:59:41.769701'),
    },
    {
      id: 9,
      name: 'David',
      age: 19,
      role: 'Admin',
      createdAt: new Date('2024-11-04T10:59:41.769711'),
    },
    {
      id: 10,
      name: 'Eva',
      age: 50,
      role: 'Moderator',
      createdAt: new Date('2025-04-20T10:59:41.769719'),
    },
    {
      id: 11,
      name: 'Frank',
      age: 31,
      role: 'Guest',
      createdAt: new Date('2025-02-12T10:59:41.769726'),
    },
    {
      id: 12,
      name: 'David',
      age: 25,
      role: 'Moderator',
      createdAt: new Date('2024-06-09T10:59:41.769734'),
    },
    {
      id: 13,
      name: 'Julia',
      age: 51,
      role: 'Admin',
      createdAt: new Date('2024-09-03T10:59:41.769742'),
    },
    {
      id: 14,
      name: 'Julia',
      age: 36,
      role: 'Guest',
      createdAt: new Date('2024-08-14T10:59:41.769750'),
    },
    {
      id: 15,
      name: 'Frank',
      age: 35,
      role: 'Guest',
      createdAt: new Date('2024-06-22T10:59:41.769757'),
    },
    {
      id: 16,
      name: 'Helen',
      age: 42,
      role: 'Admin',
      createdAt: new Date('2024-08-01T10:59:41.769764'),
    },
    {
      id: 17,
      name: 'Julia',
      age: 41,
      role: 'User',
      createdAt: new Date('2024-08-04T10:59:41.769770'),
    },
    {
      id: 18,
      name: 'Eva',
      age: 29,
      role: 'Guest',
      createdAt: new Date('2024-10-01T10:59:41.769775'),
    },
    {
      id: 19,
      name: 'Helen',
      age: 25,
      role: 'User',
      createdAt: new Date('2025-05-18T10:59:41.769779'),
    },
    {
      id: 20,
      name: 'Ivan',
      age: 39,
      role: 'Guest',
      createdAt: new Date('2025-04-16T10:59:41.769784'),
    },
    {
      id: 21,
      name: 'David',
      age: 47,
      role: 'Moderator',
      createdAt: new Date('2024-09-15T10:59:41.769789'),
    },
    {
      id: 22,
      name: 'Frank',
      age: 24,
      role: 'User',
      createdAt: new Date('2024-06-19T10:59:41.769794'),
    },
    {
      id: 23,
      name: 'Frank',
      age: 49,
      role: 'User',
      createdAt: new Date('2025-01-11T10:59:41.769798'),
    },
    {
      id: 24,
      name: 'Julia',
      age: 21,
      role: 'Moderator',
      createdAt: new Date('2024-07-28T10:59:41.769803'),
    },
    {
      id: 25,
      name: 'Alice',
      age: 55,
      role: 'Moderator',
      createdAt: new Date('2024-08-09T10:59:41.769808'),
    },
    {
      id: 26,
      name: 'Ivan',
      age: 36,
      role: 'User',
      createdAt: new Date('2025-05-03T10:59:41.769813'),
    },
    {
      id: 27,
      name: 'Eva',
      age: 48,
      role: 'Guest',
      createdAt: new Date('2025-04-03T10:59:41.769817'),
    },
    {
      id: 28,
      name: 'Helen',
      age: 19,
      role: 'Admin',
      createdAt: new Date('2024-05-26T10:59:41.769822'),
    },
    {
      id: 29,
      name: 'Eva',
      age: 24,
      role: 'User',
      createdAt: new Date('2024-12-06T10:59:41.769826'),
    },
    {
      id: 30,
      name: 'Helen',
      age: 55,
      role: 'Moderator',
      createdAt: new Date('2024-10-19T10:59:41.769831'),
    },
    {
      id: 31,
      name: 'Grace',
      age: 62,
      role: 'Moderator',
      createdAt: new Date('2024-10-20T10:59:41.769838'),
    },
    {
      id: 32,
      name: 'Bob',
      age: 33,
      role: 'Guest',
      createdAt: new Date('2024-09-21T10:59:41.769845'),
    },
    {
      id: 33,
      name: 'Bob',
      age: 52,
      role: 'Moderator',
      createdAt: new Date('2025-02-21T10:59:41.769852'),
    },
    {
      id: 34,
      name: 'David',
      age: 19,
      role: 'User',
      createdAt: new Date('2025-04-10T10:59:41.769860'),
    },
    {
      id: 35,
      name: 'David',
      age: 47,
      role: 'Guest',
      createdAt: new Date('2025-03-28T10:59:41.769868'),
    },
    {
      id: 36,
      name: 'Eva',
      age: 57,
      role: 'Guest',
      createdAt: new Date('2024-08-06T10:59:41.769876'),
    },
    {
      id: 37,
      name: 'Grace',
      age: 52,
      role: 'User',
      createdAt: new Date('2024-09-11T10:59:41.769884'),
    },
    {
      id: 38,
      name: 'Julia',
      age: 41,
      role: 'Guest',
      createdAt: new Date('2024-10-13T10:59:41.769891'),
    },
    {
      id: 39,
      name: 'Grace',
      age: 51,
      role: 'User',
      createdAt: new Date('2024-10-18T10:59:41.769898'),
    },
    {
      id: 40,
      name: 'Frank',
      age: 51,
      role: 'Moderator',
      createdAt: new Date('2025-05-15T10:59:41.769906'),
    },
    {
      id: 41,
      name: 'Eva',
      age: 37,
      role: 'User',
      createdAt: new Date('2024-12-27T10:59:41.769911'),
    },
    {
      id: 42,
      name: 'David',
      age: 44,
      role: 'Guest',
      createdAt: new Date('2024-07-25T10:59:41.769916'),
    },
    {
      id: 43,
      name: 'Frank',
      age: 42,
      role: 'Admin',
      createdAt: new Date('2024-06-05T10:59:41.769920'),
    },
    {
      id: 44,
      name: 'Grace',
      age: 29,
      role: 'Guest',
      createdAt: new Date('2024-08-29T10:59:41.769925'),
    },
    {
      id: 45,
      name: 'Bob',
      age: 48,
      role: 'User',
      createdAt: new Date('2024-10-10T10:59:41.769930'),
    },
    {
      id: 46,
      name: 'Ivan',
      age: 49,
      role: 'Moderator',
      createdAt: new Date('2025-03-02T10:59:41.769935'),
    },
    {
      id: 47,
      name: 'Grace',
      age: 26,
      role: 'Guest',
      createdAt: new Date('2024-06-05T10:59:41.769939'),
    },
    {
      id: 48,
      name: 'Bob',
      age: 63,
      role: 'Admin',
      createdAt: new Date('2024-07-25T10:59:41.769944'),
    },
    {
      id: 49,
      name: 'Bob',
      age: 46,
      role: 'Moderator',
      createdAt: new Date('2024-11-24T10:59:41.769949'),
    },
    {
      id: 50,
      name: 'Helen',
      age: 63,
      role: 'User',
      createdAt: new Date('2024-07-09T10:59:41.769953'),
    },
    {
      id: 51,
      name: 'Charlie',
      age: 54,
      role: 'Admin',
      createdAt: new Date('2024-07-12T10:59:41.769958'),
    },
    {
      id: 52,
      name: 'Alice',
      age: 63,
      role: 'User',
      createdAt: new Date('2024-07-22T10:59:41.769963'),
    },
    {
      id: 53,
      name: 'Alice',
      age: 39,
      role: 'Guest',
      createdAt: new Date('2024-10-25T10:59:41.769968'),
    },
    {
      id: 54,
      name: 'Frank',
      age: 56,
      role: 'Moderator',
      createdAt: new Date('2024-08-01T10:59:41.769972'),
    },
    {
      id: 55,
      name: 'Alice',
      age: 39,
      role: 'User',
      createdAt: new Date('2025-04-18T10:59:41.769977'),
    },
    {
      id: 56,
      name: 'Helen',
      age: 44,
      role: 'Moderator',
      createdAt: new Date('2025-01-06T10:59:41.769981'),
    },
    {
      id: 57,
      name: 'Grace',
      age: 49,
      role: 'Guest',
      createdAt: new Date('2024-08-25T10:59:41.769986'),
    },
    {
      id: 58,
      name: 'Charlie',
      age: 32,
      role: 'User',
      createdAt: new Date('2024-05-20T10:59:41.769991'),
    },
    {
      id: 59,
      name: 'David',
      age: 34,
      role: 'Moderator',
      createdAt: new Date('2024-09-16T10:59:41.769995'),
    },
    {
      id: 60,
      name: 'Charlie',
      age: 18,
      role: 'User',
      createdAt: new Date('2024-11-27T10:59:41.770000'),
    },
    {
      id: 61,
      name: 'Bob',
      age: 25,
      role: 'User',
      createdAt: new Date('2024-07-08T10:59:41.770007'),
    },
    {
      id: 62,
      name: 'David',
      age: 47,
      role: 'User',
      createdAt: new Date('2025-04-20T10:59:41.770015'),
    },
    {
      id: 63,
      name: 'Eva',
      age: 35,
      role: 'User',
      createdAt: new Date('2024-12-13T10:59:41.770022'),
    },
    {
      id: 64,
      name: 'Alice',
      age: 28,
      role: 'Guest',
      createdAt: new Date('2024-12-28T10:59:41.770027'),
    },
    {
      id: 65,
      name: 'Eva',
      age: 48,
      role: 'Moderator',
      createdAt: new Date('2025-02-05T10:59:41.770032'),
    },
    {
      id: 66,
      name: 'Eva',
      age: 46,
      role: 'User',
      createdAt: new Date('2024-06-20T10:59:41.770036'),
    },
    {
      id: 67,
      name: 'Charlie',
      age: 47,
      role: 'Admin',
      createdAt: new Date('2025-03-26T10:59:41.770040'),
    },
    {
      id: 68,
      name: 'Eva',
      age: 18,
      role: 'User',
      createdAt: new Date('2025-03-09T10:59:41.770045'),
    },
    {
      id: 69,
      name: 'Grace',
      age: 20,
      role: 'Guest',
      createdAt: new Date('2024-08-30T10:59:41.770049'),
    },
    {
      id: 70,
      name: 'Eva',
      age: 35,
      role: 'Guest',
      createdAt: new Date('2025-02-20T10:59:41.770053'),
    },
    {
      id: 71,
      name: 'Eva',
      age: 23,
      role: 'Admin',
      createdAt: new Date('2025-01-20T10:59:41.770058'),
    },
    {
      id: 72,
      name: 'Helen',
      age: 29,
      role: 'Guest',
      createdAt: new Date('2025-02-11T10:59:41.770062'),
    },
    {
      id: 73,
      name: 'Eva',
      age: 20,
      role: 'Moderator',
      createdAt: new Date('2024-09-30T10:59:41.770068'),
    },
    {
      id: 74,
      name: 'Frank',
      age: 44,
      role: 'Admin',
      createdAt: new Date('2025-02-10T10:59:41.770075'),
    },
    {
      id: 75,
      name: 'Grace',
      age: 34,
      role: 'Guest',
      createdAt: new Date('2025-02-18T10:59:41.770083'),
    },
    {
      id: 76,
      name: 'David',
      age: 43,
      role: 'Moderator',
      createdAt: new Date('2024-08-04T10:59:41.770090'),
    },
    {
      id: 77,
      name: 'Charlie',
      age: 55,
      role: 'User',
      createdAt: new Date('2025-03-07T10:59:41.770097'),
    },
    {
      id: 78,
      name: 'Helen',
      age: 24,
      role: 'Guest',
      createdAt: new Date('2025-05-03T10:59:41.770105'),
    },
    {
      id: 79,
      name: 'Frank',
      age: 47,
      role: 'User',
      createdAt: new Date('2024-10-04T10:59:41.770113'),
    },
    {
      id: 80,
      name: 'Ivan',
      age: 63,
      role: 'Guest',
      createdAt: new Date('2025-04-25T10:59:41.770121'),
    },
    {
      id: 81,
      name: 'Helen',
      age: 32,
      role: 'Admin',
      createdAt: new Date('2025-01-13T10:59:41.770127'),
    },
    {
      id: 82,
      name: 'Grace',
      age: 27,
      role: 'Admin',
      createdAt: new Date('2025-03-13T10:59:41.770131'),
    },
    {
      id: 83,
      name: 'Alice',
      age: 40,
      role: 'User',
      createdAt: new Date('2024-06-04T10:59:41.770135'),
    },
    {
      id: 84,
      name: 'Charlie',
      age: 27,
      role: 'Admin',
      createdAt: new Date('2025-04-22T10:59:41.770139'),
    },
    {
      id: 85,
      name: 'Helen',
      age: 54,
      role: 'Moderator',
      createdAt: new Date('2024-08-09T10:59:41.770144'),
    },
    {
      id: 86,
      name: 'Eva',
      age: 51,
      role: 'Moderator',
      createdAt: new Date('2025-04-02T10:59:41.770148'),
    },
    {
      id: 87,
      name: 'Bob',
      age: 65,
      role: 'Guest',
      createdAt: new Date('2025-01-22T10:59:41.770153'),
    },
    {
      id: 88,
      name: 'Grace',
      age: 44,
      role: 'Admin',
      createdAt: new Date('2025-02-09T10:59:41.770157'),
    },
    {
      id: 89,
      name: 'Ivan',
      age: 60,
      role: 'User',
      createdAt: new Date('2025-03-13T10:59:41.770161'),
    },
    {
      id: 90,
      name: 'Bob',
      age: 57,
      role: 'Guest',
      createdAt: new Date('2024-09-23T10:59:41.770167'),
    },
    {
      id: 91,
      name: 'Helen',
      age: 33,
      role: 'Moderator',
      createdAt: new Date('2025-02-19T10:59:41.770171'),
    },
    {
      id: 92,
      name: 'Grace',
      age: 45,
      role: 'Moderator',
      createdAt: new Date('2024-10-09T10:59:41.770175'),
    },
    {
      id: 93,
      name: 'Bob',
      age: 44,
      role: 'Admin',
      createdAt: new Date('2024-11-08T10:59:41.770180'),
    },
    {
      id: 94,
      name: 'Alice',
      age: 58,
      role: 'Moderator',
      createdAt: new Date('2024-10-29T10:59:41.770184'),
    },
    {
      id: 95,
      name: 'Alice',
      age: 44,
      role: 'Guest',
      createdAt: new Date('2024-07-11T10:59:41.770188'),
    },
    {
      id: 96,
      name: 'Frank',
      age: 55,
      role: 'Moderator',
      createdAt: new Date('2025-03-30T10:59:41.770194'),
    },
    {
      id: 97,
      name: 'Grace',
      age: 33,
      role: 'Moderator',
      createdAt: new Date('2024-12-14T10:59:41.770198'),
    },
    {
      id: 98,
      name: 'Julia',
      age: 20,
      role: 'Guest',
      createdAt: new Date('2025-02-20T10:59:41.770203'),
    },
    {
      id: 99,
      name: 'Grace',
      age: 21,
      role: 'User',
      createdAt: new Date('2024-12-23T10:59:41.770207'),
    },
    {
      id: 100,
      name: 'Ivan',
      age: 45,
      role: 'Admin',
      createdAt: new Date('2024-09-09T10:59:41.770211'),
    },
  ]);
}
